{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nexport const galBox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n});\n\nexport default function createMarkup(images) {\n  const markup = images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\">\n          <img alt=\"${image.tags}\" src=\"${image.webformatURL}\" class=\"gallery-img\" />\n        </a>\n        <ul class=\"gallery-text-list\">\n          <li class=\"gallery-text-items\">\n            <h2 class=\"gallery-text-title\">Likes</h2>\n            <p class=\"gallery-text-parag\">${image.likes}</p>\n          </li>\n          <li class=\"gallery-text-items\">\n            <h2 class=\"gallery-text-title\">Views</h2>\n            <p class=\"gallery-text-parag\">${image.views}</p>\n          </li>\n          <li class=\"gallery-text-items\">\n            <h2 class=\"gallery-text-title\">Comments</h2>\n            <p class=\"gallery-text-parag\">${image.comments}</p>\n          </li>\n          <li class=\"gallery-text-items\">\n            <h2 class=\"gallery-text-title\">Downloads</h2>\n            <p class=\"gallery-text-parag\">${image.downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  galBox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  document.querySelector('.loader').classList.add('open');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.remove('open');\n}\n\nconst button = document.querySelector('.non-active');\n\nexport function showLoadMoreButton() {\n  button.classList.add('is-active');\n}\n\nexport function hideLoadMoreButton() {\n  button.classList.remove('is-active');\n}\n","import axios from 'axios';\nimport createMarkup, {\n  hideLoadMoreButton,\n  showLoadMoreButton,\n} from './render-functions';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nexport default async function getImagesByQuery(query, page) {\n  try {\n    const responce = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: '49632762-ccb8ac978f5dd2d4af8186ee2',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 15,\n        page: page,\n      },\n    });\n    createMarkup(responce.data.hits);\n\n    if (responce.data.totalHits <= gallery.children.length + 15) {\n      hideLoadMoreButton();\n    } else {\n      showLoadMoreButton();\n    }\n  } catch (error) {\n    iziToast.error({\n      message: 'Request error',\n      position: 'topRight',\n      timeout: 2000,\n      imageWidth: 50,\n      maxWidth: 432,\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n  }\n}\n","import getImagesByQuery from './js/pixabay-api';\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nconst form = document.querySelector('form');\nimport { clearGallery, showLoader, hideLoader } from './js/render-functions';\n\nform.addEventListener('submit', onHandleSubmit);\n\nasync function onHandleSubmit(event) {\n  event.preventDefault();\n  clearGallery();\n  const inputedValue = form.elements[0].value;\n  let page = 1;\n\n  showLoader();\n  await getImagesByQuery(inputedValue, page);\n  try {\n    const loadMoreBtn = document.querySelector('.is-active');\n    loadMoreBtn.addEventListener('click', onHandleClick);\n    function onHandleClick() {\n      page += 1;\n      getImagesByQuery(inputedValue, page);\n    }\n  } catch (error) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      timeout: 2000,\n      imageWidth: 50,\n      maxWidth: 432,\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n  } finally {\n    hideLoader();\n  }\n}\n"],"names":["gallery","galBox","SimpleLightbox","createMarkup","images","markup","image","clearGallery","showLoader","hideLoader","button","showLoadMoreButton","hideLoadMoreButton","getImagesByQuery","query","page","responce","axios","iziToast","form","onHandleSubmit","event","inputedValue","onHandleClick"],"mappings":"owBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EACpCC,EAAS,IAAIC,EAAe,aAAc,CACrD,aAAc,GAChB,CAAC,EAEc,SAASC,EAAaC,EAAQ,CAC3C,MAAMC,EAASD,EACZ,IACCE,GACE;AAAA,mBACWA,EAAM,aAAa;AAAA,sBAChBA,EAAM,IAAI,UAAUA,EAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKhBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAItD,EACA,KAAK,EAAE,EAEVN,EAAQ,mBAAmB,YAAaK,CAAM,EAC9CJ,EAAO,QAAO,CAChB,CAEO,SAASM,GAAe,CAC7BP,EAAQ,UAAY,EACtB,CAEO,SAASQ,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,MAAM,CACxD,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,MAAM,CAC3D,CAEA,MAAMC,EAAS,SAAS,cAAc,aAAa,EAE5C,SAASC,GAAqB,CACnCD,EAAO,UAAU,IAAI,WAAW,CAClC,CAEO,SAASE,GAAqB,CACnCF,EAAO,UAAU,OAAO,WAAW,CACrC,CCtDA,MAAMV,EAAU,SAAS,cAAc,UAAU,EAElC,eAAea,EAAiBC,EAAOC,EAAM,CAC1D,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMC,CACP,CACP,CAAK,EACDZ,EAAaa,EAAS,KAAK,IAAI,EAE3BA,EAAS,KAAK,WAAahB,EAAQ,SAAS,OAAS,GACvDY,IAEAD,GAEH,MAAe,CACdO,EAAS,MAAM,CACb,QAAS,gBACT,SAAU,WACV,QAAS,IACT,WAAY,GACZ,SAAU,IACV,YAAa,OACb,kBAAmB,OACnB,aAAc,UACd,gBAAiB,SACvB,CAAK,CACF,CACH,CCzCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EAG1CA,EAAK,iBAAiB,SAAUC,CAAc,EAE9C,eAAeA,EAAeC,EAAO,CACnCA,EAAM,eAAc,EACpBd,IACA,MAAMe,EAAeH,EAAK,SAAS,CAAC,EAAE,MACtC,IAAIJ,EAAO,EAEXP,IACA,MAAMK,EAAiBS,EAAcP,CAAI,EACzC,GAAI,CAGF,IAASQ,EAAT,UAAyB,CACvBR,GAAQ,EACRF,EAAiBS,EAAcP,CAAI,CACpC,EALmB,SAAS,cAAc,YAAY,EAC3C,iBAAiB,QAASQ,CAAa,CAKpD,MAAe,CACdL,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,IACT,WAAY,GACZ,SAAU,IACV,YAAa,OACb,kBAAmB,OACnB,aAAc,UACd,gBAAiB,SACvB,CAAK,CACL,QAAY,CACRT,GACD,CACH"}